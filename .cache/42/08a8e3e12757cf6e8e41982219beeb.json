{"id":"../../node_modules/jsome/lib/generator.js","dependencies":[{"name":"/Users/kai/src/why.js/package.json","includedInParent":true,"mtime":1575108610933},{"name":"/Users/kai/src/why.js/.babelrc","includedInParent":true,"mtime":1572318617412},{"name":"/Users/kai/src/why.js/node_modules/jsome/package.json","includedInParent":true,"mtime":1562665407247},{"name":"./browser-style","loc":{"line":4,"column":30},"parent":"/Users/kai/src/why.js/node_modules/jsome/lib/generator.js","resolved":"/Users/kai/src/why.js/node_modules/jsome/lib/browser-style.js"},{"name":"chalk","loc":{"line":94,"column":28},"parent":"/Users/kai/src/why.js/node_modules/jsome/lib/generator.js","resolved":"/Users/kai/src/why.js/node_modules/jsome/node_modules/chalk/index.js"}],"generated":{"js":"module.exports = (function () {\n  var jsomeRef\n    , browserColors = []\n    , browserStyle  = require('./browser-style')\n  \n  function getType (value) {\n    var map = {\n        '[object Number]'   : 'num'\n      , '[object String]'   : 'str'\n      , '[object Boolean]'  : 'bool'\n      , '[object RegExp]'   : 'regex'\n      , '[object Function]' : 'func'\n      , 'null'              : 'null'\n      , 'undefined'         : 'undef'\n    }\n\n    return map[toString.call(value)] || map[''+value];\n  }\n  \n  function isBrowser () {\n    return typeof window == 'object';\n  }\n  \n  function repeat (str, times) {\n    return Array(times ? (times+1) : 0).join(str);\n  }\n  \n  function cleanObject (obj) {\n    var lastKey = '';\n    for (var key in obj) {\n      (getType(obj[key])==='func') && delete obj[key] || (lastKey = key);\n    }\n    return lastKey;\n  }\n  \n  function cleanArray (arr) {\n    return arr.filter(function (item) {\n      return getType(item) !== 'func';\n    });\n  }\n  \n  function generateLevel (level) {\n    var levelStr  = repeat(' ', jsomeRef.level.spaces)\n      , opts      = jsomeRef.level;\n    \n    if (jsomeRef.level.show && levelStr.length) {\n      levelStr = levelStr.replace(' ', useColorProvider(opts.char, opts.color))\n    }\n    \n    return repeat(levelStr, level);\n  }\n  \n  function hasChild (obj) {\n    for (var key in obj) {\n      if (isArray(obj[key]) || isObject(obj[key])) return true;\n    }\n  }\n  \n  function isArray (arr) {\n    return toString.call(arr).match(/^\\[object Array\\]$/);\n  }\n  \n  function isObject (obj) {\n    return toString.call(obj).match(/^\\[object Object\\]$/);\n  }\n  \n  function colorify (value, level) {\n    var color = jsomeRef.colors[getType(value)];\n    return generateLevel(level) \n      + (getType(value) === 'str' ? colorifySpec('\"', 'quot') : '')\n      + useColorProvider('' + value, color)\n      + (getType(value) === 'str' ? colorifySpec('\"', 'quot') : '');\n  }\n  \n  function colorifySpec (char, type, level) {\n    var quote = (\n      jsomeRef.params.lintable && type === 'attr'\n        ? colorifySpec('\"', 'quot', 0)\n        : ''\n    )\n    return generateLevel(level) + quote\n      + useColorProvider('' + char, jsomeRef.colors[type]) + quote;\n  }\n  \n  function useColorProvider (str, color) {\n    if(isBrowser()) {\n      var style = (isArray(color) ? color : [color]).map(function (item) {\n        return browserStyle[item]\n      }).join(';');\n      browserColors.push(style);\n      return \"%c\" + str;\n    } else {\n      if (jsomeRef.params.colored) {\n        var chalk = require('chalk');\n        if (isArray(color)) {\n          if(color.length) {\n            return useColorProvider(chalk[color[0]](str), color.slice(1));\n          } else {\n            return str;\n          }\n        } else {\n          return chalk[color](str);\n        }\n      }\n    }\n    \n    return str;\n  }\n  \n  return {\n    gen : function (json, level, isChild) {\n      var colored = [];\n          level   = level || 0;\n      \n      if (isObject(json)) {\n        \n        var lastKey = cleanObject(json);\n        colored.push(colorifySpec('{', 'brack', isChild ? 0 : level)); \n        level++;\n        \n        for(var key in json) {\n          var result = colorifySpec(key, 'attr', level) \n             + colorifySpec(': ', 'punc') \n             + this.gen(json[key], level, true) \n             + (key !== lastKey ? colorifySpec(',', 'punc') : '');\n          colored.push(result);\n        }\n        \n        colored.push(colorifySpec('}', 'brack', --level));\n        \n      } else if (isArray(json)) {\n        json = cleanArray(json);\n        \n        if (hasChild(json)) {\n          \n          var result = json.map(function(item) {\n            return this.gen(item, level+1);\n          }.bind(this));\n          \n          colored.push(colorifySpec('[', 'brack', isChild ? 0 : level));;\n          colored.push(result.join(colorifySpec(', ', 'punc') + '\\n' ));\n          colored.push(colorifySpec(']', 'brack', level));\n          \n        } else {\n          \n          var coloredArray = colorifySpec('[', 'brack', isChild ? 0 : level);\n          for (var key in json) {\n            coloredArray += colorify(json[key]) + (json.length-1>key ? colorifySpec(', ', 'punc') : '');\n          }\n          colored.push(coloredArray + colorifySpec(']', 'brack'));\n          \n        }\n        \n      } else {\n        return generateLevel(isChild ? 0 : level) + colorify(json);\n      }\n      \n      return isBrowser() ? [colored.join('\\n')].concat(browserColors) : colored.join('\\n');\n    },\n    setJsomeRef : function (jsome) {\n      jsomeRef = jsome;\n      return this;\n    }\n  }\n  \n})();"},"sourceMaps":{"js":{"mappings":[{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":2,"column":0},"generated":{"line":2,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":3,"column":0},"generated":{"line":3,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":4,"column":0},"generated":{"line":4,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":5,"column":0},"generated":{"line":5,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":6,"column":0},"generated":{"line":6,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":7,"column":0},"generated":{"line":7,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":8,"column":0},"generated":{"line":8,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":9,"column":0},"generated":{"line":9,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":10,"column":0},"generated":{"line":10,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":11,"column":0},"generated":{"line":11,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":12,"column":0},"generated":{"line":12,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":13,"column":0},"generated":{"line":13,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":14,"column":0},"generated":{"line":14,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":15,"column":0},"generated":{"line":15,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":16,"column":0},"generated":{"line":16,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":17,"column":0},"generated":{"line":17,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":18,"column":0},"generated":{"line":18,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":19,"column":0},"generated":{"line":19,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":20,"column":0},"generated":{"line":20,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":21,"column":0},"generated":{"line":21,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":22,"column":0},"generated":{"line":22,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":23,"column":0},"generated":{"line":23,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":24,"column":0},"generated":{"line":24,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":25,"column":0},"generated":{"line":25,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":26,"column":0},"generated":{"line":26,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":27,"column":0},"generated":{"line":27,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":28,"column":0},"generated":{"line":28,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":29,"column":0},"generated":{"line":29,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":30,"column":0},"generated":{"line":30,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":31,"column":0},"generated":{"line":31,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":32,"column":0},"generated":{"line":32,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":33,"column":0},"generated":{"line":33,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":34,"column":0},"generated":{"line":34,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":35,"column":0},"generated":{"line":35,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":36,"column":0},"generated":{"line":36,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":37,"column":0},"generated":{"line":37,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":38,"column":0},"generated":{"line":38,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":39,"column":0},"generated":{"line":39,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":40,"column":0},"generated":{"line":40,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":41,"column":0},"generated":{"line":41,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":42,"column":0},"generated":{"line":42,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":43,"column":0},"generated":{"line":43,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":44,"column":0},"generated":{"line":44,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":45,"column":0},"generated":{"line":45,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":46,"column":0},"generated":{"line":46,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":47,"column":0},"generated":{"line":47,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":48,"column":0},"generated":{"line":48,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":49,"column":0},"generated":{"line":49,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":50,"column":0},"generated":{"line":50,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":51,"column":0},"generated":{"line":51,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":52,"column":0},"generated":{"line":52,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":53,"column":0},"generated":{"line":53,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":54,"column":0},"generated":{"line":54,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":55,"column":0},"generated":{"line":55,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":56,"column":0},"generated":{"line":56,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":57,"column":0},"generated":{"line":57,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":58,"column":0},"generated":{"line":58,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":59,"column":0},"generated":{"line":59,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":60,"column":0},"generated":{"line":60,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":61,"column":0},"generated":{"line":61,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":62,"column":0},"generated":{"line":62,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":63,"column":0},"generated":{"line":63,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":64,"column":0},"generated":{"line":64,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":65,"column":0},"generated":{"line":65,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":66,"column":0},"generated":{"line":66,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":67,"column":0},"generated":{"line":67,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":68,"column":0},"generated":{"line":68,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":69,"column":0},"generated":{"line":69,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":70,"column":0},"generated":{"line":70,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":71,"column":0},"generated":{"line":71,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":72,"column":0},"generated":{"line":72,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":73,"column":0},"generated":{"line":73,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":74,"column":0},"generated":{"line":74,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":75,"column":0},"generated":{"line":75,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":76,"column":0},"generated":{"line":76,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":77,"column":0},"generated":{"line":77,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":78,"column":0},"generated":{"line":78,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":79,"column":0},"generated":{"line":79,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":80,"column":0},"generated":{"line":80,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":81,"column":0},"generated":{"line":81,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":82,"column":0},"generated":{"line":82,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":83,"column":0},"generated":{"line":83,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":84,"column":0},"generated":{"line":84,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":85,"column":0},"generated":{"line":85,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":86,"column":0},"generated":{"line":86,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":87,"column":0},"generated":{"line":87,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":88,"column":0},"generated":{"line":88,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":89,"column":0},"generated":{"line":89,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":90,"column":0},"generated":{"line":90,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":91,"column":0},"generated":{"line":91,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":92,"column":0},"generated":{"line":92,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":93,"column":0},"generated":{"line":93,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":94,"column":0},"generated":{"line":94,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":95,"column":0},"generated":{"line":95,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":96,"column":0},"generated":{"line":96,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":97,"column":0},"generated":{"line":97,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":98,"column":0},"generated":{"line":98,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":99,"column":0},"generated":{"line":99,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":100,"column":0},"generated":{"line":100,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":101,"column":0},"generated":{"line":101,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":102,"column":0},"generated":{"line":102,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":103,"column":0},"generated":{"line":103,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":104,"column":0},"generated":{"line":104,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":105,"column":0},"generated":{"line":105,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":106,"column":0},"generated":{"line":106,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":107,"column":0},"generated":{"line":107,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":108,"column":0},"generated":{"line":108,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":109,"column":0},"generated":{"line":109,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":110,"column":0},"generated":{"line":110,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":111,"column":0},"generated":{"line":111,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":112,"column":0},"generated":{"line":112,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":113,"column":0},"generated":{"line":113,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":114,"column":0},"generated":{"line":114,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":115,"column":0},"generated":{"line":115,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":116,"column":0},"generated":{"line":116,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":117,"column":0},"generated":{"line":117,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":118,"column":0},"generated":{"line":118,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":119,"column":0},"generated":{"line":119,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":120,"column":0},"generated":{"line":120,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":121,"column":0},"generated":{"line":121,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":122,"column":0},"generated":{"line":122,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":123,"column":0},"generated":{"line":123,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":124,"column":0},"generated":{"line":124,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":125,"column":0},"generated":{"line":125,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":126,"column":0},"generated":{"line":126,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":127,"column":0},"generated":{"line":127,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":128,"column":0},"generated":{"line":128,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":129,"column":0},"generated":{"line":129,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":130,"column":0},"generated":{"line":130,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":131,"column":0},"generated":{"line":131,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":132,"column":0},"generated":{"line":132,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":133,"column":0},"generated":{"line":133,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":134,"column":0},"generated":{"line":134,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":135,"column":0},"generated":{"line":135,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":136,"column":0},"generated":{"line":136,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":137,"column":0},"generated":{"line":137,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":138,"column":0},"generated":{"line":138,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":139,"column":0},"generated":{"line":139,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":140,"column":0},"generated":{"line":140,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":141,"column":0},"generated":{"line":141,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":142,"column":0},"generated":{"line":142,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":143,"column":0},"generated":{"line":143,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":144,"column":0},"generated":{"line":144,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":145,"column":0},"generated":{"line":145,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":146,"column":0},"generated":{"line":146,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":147,"column":0},"generated":{"line":147,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":148,"column":0},"generated":{"line":148,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":149,"column":0},"generated":{"line":149,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":150,"column":0},"generated":{"line":150,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":151,"column":0},"generated":{"line":151,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":152,"column":0},"generated":{"line":152,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":153,"column":0},"generated":{"line":153,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":154,"column":0},"generated":{"line":154,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":155,"column":0},"generated":{"line":155,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":156,"column":0},"generated":{"line":156,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":157,"column":0},"generated":{"line":157,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":158,"column":0},"generated":{"line":158,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":159,"column":0},"generated":{"line":159,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":160,"column":0},"generated":{"line":160,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":161,"column":0},"generated":{"line":161,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":162,"column":0},"generated":{"line":162,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":163,"column":0},"generated":{"line":163,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":164,"column":0},"generated":{"line":164,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":165,"column":0},"generated":{"line":165,"column":0}},{"source":"../../node_modules/jsome/lib/generator.js","original":{"line":166,"column":0},"generated":{"line":166,"column":0}}],"sources":{"../../node_modules/jsome/lib/generator.js":"module.exports = (function () {\n  var jsomeRef\n    , browserColors = []\n    , browserStyle  = require('./browser-style')\n  \n  function getType (value) {\n    var map = {\n        '[object Number]'   : 'num'\n      , '[object String]'   : 'str'\n      , '[object Boolean]'  : 'bool'\n      , '[object RegExp]'   : 'regex'\n      , '[object Function]' : 'func'\n      , 'null'              : 'null'\n      , 'undefined'         : 'undef'\n    }\n\n    return map[toString.call(value)] || map[''+value];\n  }\n  \n  function isBrowser () {\n    return typeof window == 'object';\n  }\n  \n  function repeat (str, times) {\n    return Array(times ? (times+1) : 0).join(str);\n  }\n  \n  function cleanObject (obj) {\n    var lastKey = '';\n    for (var key in obj) {\n      (getType(obj[key])==='func') && delete obj[key] || (lastKey = key);\n    }\n    return lastKey;\n  }\n  \n  function cleanArray (arr) {\n    return arr.filter(function (item) {\n      return getType(item) !== 'func';\n    });\n  }\n  \n  function generateLevel (level) {\n    var levelStr  = repeat(' ', jsomeRef.level.spaces)\n      , opts      = jsomeRef.level;\n    \n    if (jsomeRef.level.show && levelStr.length) {\n      levelStr = levelStr.replace(' ', useColorProvider(opts.char, opts.color))\n    }\n    \n    return repeat(levelStr, level);\n  }\n  \n  function hasChild (obj) {\n    for (var key in obj) {\n      if (isArray(obj[key]) || isObject(obj[key])) return true;\n    }\n  }\n  \n  function isArray (arr) {\n    return toString.call(arr).match(/^\\[object Array\\]$/);\n  }\n  \n  function isObject (obj) {\n    return toString.call(obj).match(/^\\[object Object\\]$/);\n  }\n  \n  function colorify (value, level) {\n    var color = jsomeRef.colors[getType(value)];\n    return generateLevel(level) \n      + (getType(value) === 'str' ? colorifySpec('\"', 'quot') : '')\n      + useColorProvider('' + value, color)\n      + (getType(value) === 'str' ? colorifySpec('\"', 'quot') : '');\n  }\n  \n  function colorifySpec (char, type, level) {\n    var quote = (\n      jsomeRef.params.lintable && type === 'attr'\n        ? colorifySpec('\"', 'quot', 0)\n        : ''\n    )\n    return generateLevel(level) + quote\n      + useColorProvider('' + char, jsomeRef.colors[type]) + quote;\n  }\n  \n  function useColorProvider (str, color) {\n    if(isBrowser()) {\n      var style = (isArray(color) ? color : [color]).map(function (item) {\n        return browserStyle[item]\n      }).join(';');\n      browserColors.push(style);\n      return \"%c\" + str;\n    } else {\n      if (jsomeRef.params.colored) {\n        var chalk = require('chalk');\n        if (isArray(color)) {\n          if(color.length) {\n            return useColorProvider(chalk[color[0]](str), color.slice(1));\n          } else {\n            return str;\n          }\n        } else {\n          return chalk[color](str);\n        }\n      }\n    }\n    \n    return str;\n  }\n  \n  return {\n    gen : function (json, level, isChild) {\n      var colored = [];\n          level   = level || 0;\n      \n      if (isObject(json)) {\n        \n        var lastKey = cleanObject(json);\n        colored.push(colorifySpec('{', 'brack', isChild ? 0 : level)); \n        level++;\n        \n        for(var key in json) {\n          var result = colorifySpec(key, 'attr', level) \n             + colorifySpec(': ', 'punc') \n             + this.gen(json[key], level, true) \n             + (key !== lastKey ? colorifySpec(',', 'punc') : '');\n          colored.push(result);\n        }\n        \n        colored.push(colorifySpec('}', 'brack', --level));\n        \n      } else if (isArray(json)) {\n        json = cleanArray(json);\n        \n        if (hasChild(json)) {\n          \n          var result = json.map(function(item) {\n            return this.gen(item, level+1);\n          }.bind(this));\n          \n          colored.push(colorifySpec('[', 'brack', isChild ? 0 : level));;\n          colored.push(result.join(colorifySpec(', ', 'punc') + '\\n' ));\n          colored.push(colorifySpec(']', 'brack', level));\n          \n        } else {\n          \n          var coloredArray = colorifySpec('[', 'brack', isChild ? 0 : level);\n          for (var key in json) {\n            coloredArray += colorify(json[key]) + (json.length-1>key ? colorifySpec(', ', 'punc') : '');\n          }\n          colored.push(coloredArray + colorifySpec(']', 'brack'));\n          \n        }\n        \n      } else {\n        return generateLevel(isChild ? 0 : level) + colorify(json);\n      }\n      \n      return isBrowser() ? [colored.join('\\n')].concat(browserColors) : colored.join('\\n');\n    },\n    setJsomeRef : function (jsome) {\n      jsomeRef = jsome;\n      return this;\n    }\n  }\n  \n})();"},"lineCount":166}},"error":null,"hash":"717abb3715dbfda948bb32c22547faa4","cacheData":{"env":{}}}